(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{10:function(e,t,a){e.exports={makerLightGrey:"#ddd",makerMediumGrey:"#444",makerDarkGrey:"undefined",makerGreen:"#00C855",makerWhite:"#fff",mediaQuery:"768px",feed:"filteredFeed_feed__1nlyh",category:"filteredFeed_category__2zLOZ",id:"filteredFeed_id__BEY0y",user_date:"filteredFeed_user_date__jEP53",user_id:"filteredFeed_user_id__17k5B",date:"filteredFeed_date__1Djco",title:"filteredFeed_title__1wqHI",contents:"filteredFeed_contents__1WVFk",body:"filteredFeed_body__2w8PW",img:"filteredFeed_img__kZhvj",text:"filteredFeed_text__3n5Z-"}},11:function(e,t,a){e.exports={makerLightGrey:"#ddd",makerMediumGrey:"#444",makerGreen:"#00C855",makerBlack:"#000",mediaQuery:"768px",order_standard:"order_order_standard__2Ejil",order:"order_order__1oQT8",circle:"order_circle__19usd",selected:"order_selected__1oHrx"}},12:function(e,t,a){e.exports={makerLightGrey:"#ddd",makerMediumGrey:"#444",makerBlack:"#000",makerWhite:"#fff",makerGreen:"#00C855",mediaQuery:"768px",background:"filter_background__2Oiu-",filter_button:"filter_filter_button__2tdC8",popup:"filter_popup__2UZ3d",close:"filter_close__3ok-p",title:"filter_title__1JMmV",category:"filter_category__1o715",checkbox:"filter_checkbox__1V-Hu",save_button:"filter_save_button__3lF4f"}},13:function(e,t,a){e.exports={makerGreen:"#00C855",makerWhite:"#fff",makerLightGrey:"#ddd",makerMediumGrey:"#444",mediaQuery:"768px",home:"home_home__1Ge7G",filtered:"home_filtered__29TqH",login:"home_login__rFO-Z",contents:"home_contents__2ekmY",feeds:"home_feeds__2NFE-",loading:"home_loading__2d6mB",spin:"home_spin__fOstG",toggleAd:"home_toggleAd__3tVV_"}},14:function(e,t,a){e.exports={makerLightGrey:"#ddd",makerWhite:"#fff",mediaQuery:"768px",ad:"ad_ad__3sypI",sponsored:"ad_sponsored__16Huo",body:"ad_body__1QUz2",img:"ad_img__oqKiG",text:"ad_text__s2u84",contents:"ad_contents__LvH6B",title:"ad_title__3JLaT"}},37:function(e,t,a){e.exports={makerLightGrey:"#ddd",makerMediumGrey:"#444",header:"header_header__3Env3"}},38:function(e,t,a){e.exports={mediaQuery:"768px",wrap:"router_wrap__xyuRI"}},47:function(e,t,a){},48:function(e,t,a){},5:function(e,t,a){e.exports={makerMediumGrey:"#444",makerLightGrey:"#ddd",makerGreen:"#00C855",mediaQuery:"768px",detail:"detail_detail__25TZY",title:"detail_title__21P1R",contents:"detail_contents__2DAix",date:"detail_date__3FjPz",reply_count:"detail_reply_count__3xeEf",replies:"detail_replies__8cphn",reply:"detail_reply__2C1SY",reply_username:"detail_reply_username__1ni5h",reply_email:"detail_reply_email__2nto1",reply_date:"detail_reply_date__34swk",reply_title:"detail_reply_title__16DN0"}},73:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),c=a.n(n),s=a(35),i=a.n(s),d=(a(47),a(48),a(41)),l=a(2),o=a(6),u=a(5),_=a.n(u),j=function(e){var t=e.api,a=Object(n.useState)(),c=Object(o.a)(a,2),s=c[0],i=c[1],d=Object(l.g)();return Object(n.useEffect)((function(){t.getDetail(d.id).then((function(e){return i(e)}))}),[t,d.id]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:_.a.detail,children:[Object(r.jsx)("h3",{className:_.a.title,children:s&&s.title}),Object(r.jsx)("p",{className:_.a.contents,children:s&&s.contents}),Object(r.jsx)("p",{className:_.a.date,children:s&&s.created_at.split("T")[0]})]}),Object(r.jsxs)("p",{className:_.a.reply_title,children:["\ub2f5\ubcc0",Object(r.jsx)("span",{className:_.a.reply_count,children:s&&s.reply.length})]}),Object(r.jsx)("ul",{className:_.a.replies,children:s&&s.reply.map((function(e){return Object(r.jsxs)("li",{className:_.a.reply,children:[Object(r.jsxs)("p",{className:_.a.reply_username,children:[e.user.name,Object(r.jsx)("span",{className:_.a.reply_email,children:e.user.email})]}),Object(r.jsx)("p",{className:_.a.reply_contents,children:e.contents}),Object(r.jsx)("p",{className:_.a.reply_date,children:e.created_at.split("T")[0]})]})}))})]})},m=a(7),p=a.n(m),f=a(20),b=a(15),h=a(9),x=a.n(h),O=function(e){var t=e.category,a=e.info,n=a.category_id,c=a.id,s=a.user_id,i=a.created_at,d=a.title,o=a.contents,u=Object(l.f)();return Object(r.jsx)("li",{onClick:function(){u.push("/".concat(c))},className:x.a.feed,children:Object(r.jsxs)("div",{className:a.img?x.a.body:"",children:[Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{className:x.a.category,children:[t.filter((function(e){return e.id===n}))[0].name,Object(r.jsx)("span",{className:x.a.id,children:c})]}),Object(r.jsxs)("p",{className:x.a.user_date,children:[Object(r.jsx)("span",{className:x.a.user_id,children:s}),Object(r.jsx)("span",{className:x.a.date,children:i.split("T")[0]})]})]}),Object(r.jsxs)("div",{className:x.a.text,children:[Object(r.jsx)("h3",{className:x.a.title,children:d}),Object(r.jsx)("p",{className:x.a.contents,children:o})]})]})})},g=a(11),y=a.n(g),k=function(e){var t=e.standard,a=e.setStandard,c="order",s=function(e){var t=e.currentTarget.title;"asc"===t?(a(!0),localStorage.setItem(c,t)):"desc"===t&&(a(!1),localStorage.setItem(c,t))};return Object(n.useEffect)((function(){var e=localStorage.getItem(c);void 0!==e&&("desc"===e?a(!1):"asc"===e&&a(!0))}),[a]),Object(r.jsxs)("div",{className:y.a.order_standard,children:[Object(r.jsxs)("p",{onClick:s,className:t?"".concat(y.a.order," ").concat(y.a.selected):y.a.order,title:"asc",children:[Object(r.jsx)("span",{className:y.a.circle,children:"\u25cf"}),Object(r.jsx)("span",{children:"\uc624\ub984\ucc28\uc21c"})]}),Object(r.jsxs)("p",{onClick:s,className:t?y.a.order:"".concat(y.a.order," ").concat(y.a.selected),title:"desc",children:[Object(r.jsx)("span",{className:y.a.circle,children:"\u25cf"}),Object(r.jsx)("span",{children:"\ub0b4\ub9bc\ucc28\uc21c"})]})]})},N=a(13),v=a.n(N),F=a(12),G=a.n(F),w=function(e){var t=e.category,a=e.setFilter,c=Object(n.useState)(!1),s=Object(o.a)(c,2),i=s[0],d=s[1],l="filter",u=Object(n.useRef)();return Object(n.useEffect)((function(){var e=localStorage.getItem(l);null!==e&&u.current&&Array.from(u.current.querySelectorAll("input")).forEach((function(t){e.includes(t.name)&&(t.checked=!0)}))}),[i]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{className:G.a.filter_button,onClick:function(){d(!0)},children:"\ud544\ud130"}),i&&Object(r.jsx)("div",{className:G.a.background,children:Object(r.jsxs)("div",{ref:u,className:G.a.popup,children:[Object(r.jsx)("span",{className:G.a.close,onClick:function(){d(!1)},children:"X"}),Object(r.jsx)("p",{className:G.a.title,children:"\ud544\ud130"}),t&&t.map((function(e){return Object(r.jsxs)("p",{className:G.a.category,children:[Object(r.jsx)("input",{type:"checkbox",name:e.id,className:G.a.checkbox}),Object(r.jsx)("label",{children:e.name})]},e.id)})),Object(r.jsx)("button",{onClick:function(){var e=Array.from(u.current.querySelectorAll("input")).filter((function(e){return e.checked})).map((function(e){return parseInt(e.name)}));localStorage.setItem(l,JSON.stringify(e)),a(e),d(!1)},className:G.a.save_button,children:"\uc800\uc7a5\ud558\uae30"})]})})]})},S=a(14),E=a.n(S),C=function(e){var t=e.adInfo,a=t.img,n=t.title,c=t.contents;return Object(r.jsxs)("li",{className:E.a.ad,children:[Object(r.jsx)("p",{className:E.a.sponsored,children:"sponsored"}),Object(r.jsxs)("div",{className:E.a.body,children:[Object(r.jsx)("p",{className:E.a.img,children:Object(r.jsx)("img",{src:"https://cdn.comento.kr/assignment/".concat(a),alt:n})}),Object(r.jsxs)("div",{className:E.a.text,children:[Object(r.jsx)("h3",{className:E.a.title,children:n}),Object(r.jsx)("p",{className:E.a.contents,children:c})]})]})]})},A=a(10),I=a.n(A),L=function(e){var t=e.info,a=e.category,n=t.id,c=t.user_id,s=t.created_at,i=t.title,d=t.contents,o=t.category_id,u=Object(l.f)();return Object(r.jsx)("li",{onClick:function(){u.push("/".concat(n))},className:I.a.feed,children:Object(r.jsxs)("div",{className:t.img?I.a.body:"",children:[Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{className:I.a.category,children:[a.filter((function(e){return e.id===o}))[0].name,Object(r.jsx)("span",{className:I.a.id,children:n})]}),Object(r.jsxs)("p",{className:I.a.user_date,children:[Object(r.jsx)("span",{className:I.a.user_id,children:c}),Object(r.jsx)("span",{className:I.a.date,children:s.split("T")[0]})]})]}),Object(r.jsxs)("div",{className:I.a.text,children:[Object(r.jsx)("h3",{className:I.a.title,children:i}),Object(r.jsx)("p",{className:I.a.contents,children:d})]})]})})},T=a(75),Q=function(e){var t=e.api,a=Object(n.useState)(),c=Object(o.a)(a,2),s=c[0],i=c[1],d=Object(n.useState)([]),l=Object(o.a)(d,2),u=l[0],_=l[1],j=Object(n.useState)(),m=Object(o.a)(j,2),h=m[0],x=m[1],g=Object(n.useState)(),y=Object(o.a)(g,2),N=y[0],F=y[1],G=Object(n.useState)(),S=Object(o.a)(G,2),E=S[0],A=S[1],I=Object(n.useState)(!0),Q=Object(o.a)(I,2),D=Q[0],H=Q[1],M=Object(n.useState)([]),B=Object(o.a)(M,2),J=B[0],W=B[1],P=localStorage.getItem("order");Object(n.useEffect)((function(){t.getCategory().then((function(e){var t=e.map((function(e){return e.id}));i(e),_(t)})),t.getAds().then((function(e){return A(e)}))}),[t]),Object(n.useEffect)((function(){null===P?u.length>0&&t.getFeeds(u,10).then((function(e){x(e.data.sort((function(e,t){return e.id-t.id})))})):null!==P&&u.length>0&&t.getFeeds(u,10).then((function(e){"asc"===P?x(e.data.sort((function(e,t){return e.id-t.id}))):"desc"===P&&x(e.data.sort((function(e,t){return t.id-e.id})))}))}),[u,t,P]),Object(n.useEffect)((function(){h&&x(D?h.sort((function(e,t){return e.id-t.id})):h.sort((function(e,t){return t.id-e.id})))}),[D,h]),Object(n.useEffect)((function(){J.length>0&&h&&F((function(){return h.filter((function(e){return J.includes(e.category_id)}))}))}),[J,h]);var Z=function(){var e=Object(b.a)(p.a.mark((function e(){var a,r,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=document.documentElement,r=a.scrollHeight,n=a.scrollTop,c=a.clientHeight,!(n+c>r-5)){e.next=6;break}if(!u||!h){e.next=6;break}if(!(u.length>0)){e.next=6;break}return e.next=6,t.getFeeds(u,h.length+10).then((function(e){x((function(t){return[].concat(Object(f.a)(t),Object(f.a)(e.data.filter((function(e){return e.id>t.length}))))}))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();window.addEventListener("scroll",function(e,t){var a;return function(){var r=arguments;a||(a=setTimeout((function(){e.apply(void 0,Object(f.a)(r)),a=!1}),t))}}(Z,700));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:v.a.home,children:[Object(r.jsx)("button",{className:v.a.login,children:"\ub85c\uadf8\uc778"}),Object(r.jsxs)("div",{className:v.a.contents,children:[Object(r.jsx)(k,{standard:D,setStandard:H}),Object(r.jsx)(w,{category:s,setFilter:W}),Object(r.jsxs)("p",{className:v.a.toggleAd,onClick:function(e){"INPUT"===e.target.tagName&&(e.target.checked?A(null):t.getAds().then((function(e){return A(e)})))},children:[Object(r.jsx)("input",{type:"checkbox"}),Object(r.jsx)("label",{children:"\uad11\uace0 \uc81c\uc678\ud558\uace0 \ubcf4\uae30"})]}),!N&&Object(r.jsx)("ul",{className:v.a.feeds,children:h&&h.map((function(e,a){var n=0;return E&&(a+1)%4===0&&((n=a-3)>E.length&&(n=0),E[n+1])?Object(r.jsx)(C,{adInfo:E[n+1]},Object(T.a)()):Object(r.jsx)(O,{category:s,info:e,api:t},Object(T.a)())}))}),N&&Object(r.jsx)("ul",{className:v.a.filtered,children:N.map((function(e){return Object(r.jsx)(L,{category:s,info:e},Object(T.a)())}))})]})]}),Object(r.jsx)("p",{className:v.a.loading})]})},D=a(37),H=a.n(D),M=function(e){return Object(r.jsxs)("header",{className:H.a.header,children:["[",new Date(Date.now()).toLocaleDateString(),"] \uae40\uc608\ub9b0"]})},B=a(38),J=a.n(B),W=function(e){var t=e.api;return Object(r.jsxs)(d.a,{children:[Object(r.jsx)(M,{}),Object(r.jsx)("div",{className:J.a.wrap,children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{exact:!0,path:"/",children:Object(r.jsx)(Q,{api:t})}),Object(r.jsx)(l.a,{exact:!0,path:"/:id",children:Object(r.jsx)(j,{api:t})})]})})]})};var P=function(e){var t=e.api;return Object(r.jsx)(W,{api:t})},Z=a(39),q=a(40),R=a(18),U=a.n(R),V=new(function(){function e(){Object(Z.a)(this,e)}return Object(q.a)(e,[{key:"getCategory",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({method:"get",url:" https://problem.comento.kr/api/category",headers:{header:"Accept:application/json"}});case 2:return t=e.sent,e.abrupt("return",t.data.category);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getFeeds",value:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({method:"get",url:"https://problem.comento.kr/api/list",header:"Accept:application/json",params:{page:1,ord:"asc",category:t,limit:a}});case 2:if(r=e.sent,e.prev=3,200!==r.status){e.next=8;break}return e.abrupt("return",r.data);case 8:console.log("try: "+r);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("error");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAds",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({method:"get",url:"https://problem.comento.kr/api/ads",header:"Accept:application/json",params:{page:1,limit:30}});case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getDetail",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({method:"get",url:"https://problem.comento.kr/api/view",header:"Accept:application/json",params:{id:t}});case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}());i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(P,{api:V})}),document.getElementById("root"))},9:function(e,t,a){e.exports={makerLightGrey:"#ddd",makerMediumGrey:"#444",makerDarkGrey:"undefined",makerGreen:"#00C855",makerWhite:"#fff",mediaQuery:"768px",feed:"feed_feed__1HRdW",category:"feed_category__1Etgk",id:"feed_id__XnPRr",user_date:"feed_user_date__QP0fa",user_id:"feed_user_id__tIU49",date:"feed_date__1EXAy",title:"feed_title__3JY-u",contents:"feed_contents__3Jo4-",body:"feed_body__3OmjZ",img:"feed_img__1UyJL",text:"feed_text__2BA4c"}}},[[73,1,2]]]);
//# sourceMappingURL=main.84ab0eb5.chunk.js.map